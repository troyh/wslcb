webpackJsonp([1,4],{0:function(t,e,r){t.exports=r("x35b")},"5xMp":function(t,e){t.exports='\x3c!-- <pre>{{breweries|json}}</pre> --\x3e\n<div class="container">\n  <div class="pull-right">\n    <md-select placeholder="Year" (change)="getData()" [(ngModel)]="ui.dataset">\n      <md-option *ngFor="let file of CSVFiles" [value]="file" >\n        {{ file.name }}\n      </md-option>\n    </md-select>\n  </div>\n<h1>Washington State Brewery Production</h1>\n<div><small>{{ui.title}}</small></div>\n<div><small>{{table.length}} breweries</small></div>\n<div class="text-right">\n  <md-select placeholder="Order by" (change)="sortList($event.value)" [(ngModel)]="ui.orderby">\n    <md-option *ngFor="let sortkey of sortkeys" [value]="sortkey" >\n      {{ sortkey }}\n    </md-option>\n  </md-select>\n</div>\n<table class="table table-striped table-hover table-reponsive">\n  <thead class="thead-inverse">\n    <tr>\n      <th rowspan="2">#</th>\n      <th rowspan="2">Name</th>\n      <th rowspan="2">City</th>\n      <th rowspan="2">Net Production</th>\n      <th colspan="2" class="text-center">Distributor Sales by ABV<sup>1</sup></th>\n      <th colspan="2" class="text-center">Brewery Retail Sales by ABV<sup>2</sup></th>\n      <th colspan="2" class="text-center">Retail Sales by ABV<sup>3</sup></th>\n      <th rowspan="2">Military/ ICC/ Export</th>\n    </tr>\n    <tr>\n      <th>&gt;10%</th><th>&lt;10%</th>\n      <th>&gt;10%</th><th>&lt;10%</th>\n      <th>&gt;10%</th><th>&lt;10%</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor="let row of table; let i=index">\n      <td>{{i+1}}</td>\n      <td>{{row[\'Tradename\']}}</td>\n      <td>{{row[\'Location City\']}}</td>\n      <td class="text-right">{{row[\'Net Production\']|number:\'1.0-0\'}}</td>\n      <td class="text-right">{{row[\'Distributor Sales Over\']|number:\'1.0-0\'}}</td>\n      <td class="text-right">{{row[\'Distributor Sales Under\']|number:\'1.0-0\'}}</td>\n      <td class="text-right">{{row[\'Brewery Retail Sales Over\']|number:\'1.0-0\'}}</td>\n      <td class="text-right">{{row[\'Brewery Retail Sales Under\']|number:\'1.0-0\'}}</td>\n      <td class="text-right">{{row[\'Retail Sales Over\']|number:\'1.0-0\'}}</td>\n      <td class="text-right">{{row[\'Retail Sales Under\']|number:\'1.0-0\'}}</td>\n      <td class="text-right">{{row[\'Military/ICC/Export\']|number:\'1.0-0\'}}</td>\n    </tr>\n  </tbody>\n</table>\n\n<p>Data comes from the Washington State Liquor Control Board (WSLCB) from a Freedom of Information Act request. All numbers are in beer barrels (BBLs).</p>\n\n<p>The source code for this site is open source: <a href="https://github.com/troyh/wslcb">https://github.com/troyh/wslcb</a>\n\n<div>\n  <b>Notes:</b>\n  <p><sup>1</sup>Volume sold to a distributor.</p>\n  <p><sup>2</sup>Volume sold at the brewery location direct to customers.</p>\n  <p><sup>3</sup>Volume sold to other Washington retailers (grocery stores, restaurants, bars, etc.).</p>\n</div>\n\n</div>\n'},Iksp:function(t,e,r){"use strict";var n=r("Qbdm"),s=r("3j3K"),o=r("NVOs"),i=r("Fzro"),a=r("YWx4"),l=r("kzcK"),c=r("KN8t"),u=r("rxKx"),d=(r.n(u),r("fYnu"));r.d(e,"a",function(){return p});var h=this&&this.__decorate||function(t,e,r,n){var s,o=arguments.length,i=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,r,i):s(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i},p=function(){function t(){}return t}();p=h([r.i(s.b)({declarations:[a.a],imports:[n.a,o.a,i.a,l.a.forRoot(),c.a,d.a,d.b],providers:[],bootstrap:[a.a]})],p)},MOVZ:function(t,e){function r(t){throw new Error("Cannot find module '"+t+"'.")}r.keys=function(){return[]},r.resolve=r,t.exports=r,r.id="MOVZ"},YWx4:function(t,e,r){"use strict";var n=r("3j3K"),s=r("Fzro");r.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,r,n){var s,o=arguments.length,i=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,r,i):s(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(t){this.http=t,this.CSVFiles=[{url:"https://s3-us-west-2.amazonaws.com/optimism-wslcb/WSLCB+2016.csv",name:"2016"},{url:"https://s3-us-west-2.amazonaws.com/optimism-wslcb/WSLCB+2015.csv",name:"2015"},{url:"https://s3-us-west-2.amazonaws.com/optimism-wslcb/WSLCB+2014.csv",name:"2014"}],this.ui={title:"",orderby:"Net Production",dataset:this.CSVFiles[2]},this.table=[],this.list=[]}return t.prototype.ngAfterViewInit=function(){this.getData()},t.prototype.getData=function(){var t=this;this.http.get(this.ui.dataset.url).subscribe(function(e){for(var r=e.text().replace(/[^a-zA-Z0-9 \.,]/,""),n=r.split(/\r\n/),s=[],o=[],i=0;i<n.length;++i)if(n[i].length){var a=n[i].split(/,/);switch(i){case 0:t.ui.title=a[0];break;case 1:break;case 2:for(var l=0,c=a;l<c.length;l++){var u=c[l];o.push(u)}break;default:for(var d={},h=0;h<a.length;++h)d[o[h]]=a[h];s.push(d)}}var p=["Net Production","Distributor Sales Over","Distributor Sales Under","Brewery Retail Sales Over","Brewery Retail Sales Under","Retail Sales Over","Retail Sales Under","Military/ICC/Export"];t.sortkeys=p;for(var f={},b=0,m=s;b<m.length;b++){var v=m[b];f[v["License #"]]||(f[v["License #"]]={}),f[v["License #"]]["License #"]=v["License #"],f[v["License #"]].Tradename=v.Tradename,f[v["License #"]]["Location City"]=v["Location City"];for(var y=0,g=p;y<g.length;y++){var w=g[y];f[v["License #"]][w]||(f[v["License #"]][w]=0),f[v["License #"]][w]+=+v[w]}}t.sortkeys.unshift("Location City"),t.sortkeys.unshift("Tradename"),t.list=[];for(var x=0,S=Object.keys(f);x<S.length;x++){var L=S[x];t.list.push(f[L])}t.sortList(t.ui.orderby)})},t.prototype.sortList=function(t){var e=this,r=function(t){return function(e,r){return"string"!=typeof e[t]?-1:"string"!=typeof r[t]?1:e[t].localeCompare(r[t])}},n=function(t){return function(e,r){return r[t]-e[t]}},s=function(t){return function(s,o){for(var i,a=0,l=t;a<l.length;a++){var c=l[a];switch(typeof e.list[0][c]){case"string":i=r(c);break;default:i=n(c)}var u=i(s,o);if(0!=u)return u}return 0}};this.table=this.list.sort(s([t,"Net Production"]))},t}();a=o([r.i(n.p)({selector:"app-root",template:r("5xMp"),styles:[r("okgc")]}),i("design:paramtypes",["function"==typeof(l=void 0!==s.b&&s.b)&&l||Object])],a);var l},kZql:function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n={production:!0}},okgc:function(t,e,r){e=t.exports=r("FZ+f")(),e.push([t.i,"table td,table th{font-size:8pt}",""]),t.exports=t.exports.toString()},x35b:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("3j3K"),s=r("O61y"),o=r("Iksp");r("kZql").a.production&&r.i(n.a)(),r.i(s.a)().bootstrapModule(o.a)}},[0]);